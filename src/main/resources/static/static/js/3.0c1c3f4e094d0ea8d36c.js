webpackJsonp([3],{H3F0:function(t,i){},Nqyv:function(t,i,e){"use strict";i.e=function(t){return Object(n.a)({url:"/saveSubscribeTopic",method:"get",params:t})},i.a=function(t){return Object(n.a)({url:"/deleteSubscribeTopic",method:"get",params:t})},i.b=function(t){return Object(n.a)({url:"/getTopicInfo",method:"get",params:t})},i.d=function(t){return Object(n.a)({url:"/queryTopicsByUserId",method:"get",params:t})},i.c=function(t){return Object(n.a)({url:"/queryTopicQuestionInfosByUserId",method:"get",params:t})};var n=e("vLgD")},X2bF:function(t,i){},XOjX:function(t,i,e){"use strict";var n={render:function(){var t=this.$createElement;return(this._self._c||t)("el-tag",{staticClass:"topic",on:{click:this.toTopic}},[this._v(this._s(this.topic))])},staticRenderFns:[]};var o=e("VU/8")({name:"TopicTag",props:["topic"],methods:{toTopic:function(){this.$router.push({path:"/topic/"+this.topic})}}},n,!1,function(t){e("X2bF")},"data-v-6c3974c2",null);i.a=o.exports},mlqX:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("vMJZ"),o=e("Ozlq"),s=e("Nqyv"),a=e("5KsW"),c=e("XOjX"),r={data:function(){return{limit:10,tabIndex:"0",tabStyle:{maxHeight:window.innerHeight-131+"px",overflow:"auto"},loading0:!1,loading1:!1,questionInfos:[],activityInfos:[],topicQuestionInfos:[],page0:0,page1:0,show1:!1,topics:[]}},components:{ActivityInfo:a.a,TopicTag:c.a},methods:{load0:function(){var t=this;if(!this.loading0){this.loading0=!0;var i={page:this.page0,limit:this.limit};Object(o.d)(i).then(function(i){t.questionInfos=t.questionInfos.concat(i),++t.page0,i.length<t.limit?(t.$message({message:"暂时没有更多了"}),setTimeout(function(){t.loading0=!1,console.log("冷却完成")},1e3)):t.loading0=!1})}},load1:function(){var t=this;if(!this.loading1){this.loading1=!0;var i={page:this.page1,limit:this.limit};Object(n.g)(i).then(function(i){t.activityInfos=t.activityInfos.concat(i),++t.page1,i.length<t.limit?(console.log("暂时没有更多了"),setTimeout(function(){t.loading1=!1,console.log("冷却完成")},1e3)):t.loading1=!1})}},handleQueryTopicQuestionInfosByUserId:function(){var t=this;Object(s.c)().then(function(i){t.topicQuestionInfos=i,t.$refs.topicQuestionInfos.scrollTop=0})}},watch:{tabIndex:function(t){var i=this;"1"===t?this.show1=!0:"2"===t&&(Object(s.d)().then(function(t){i.topics=t}),0===this.topicQuestionInfos.length&&this.handleQueryTopicQuestionInfosByUserId())}},mounted:function(){var t=this;window.onresize=function(){t.tabStyle.maxHeight=window.innerHeight-131+"px"}},computed:{userId:function(){return this.$store.getters.userId},authority:function(){return this.$store.getters.authority}}},l={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-tabs",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"border-card"},model:{value:t.tabIndex,callback:function(i){t.tabIndex=i},expression:"tabIndex"}},[e("el-tab-pane",{attrs:{label:"热榜",name:"0"}},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load0,expression:"load0"}],style:t.tabStyle,attrs:{"infinite-scroll-disabled":"loading0"}},t._l(t.questionInfos,function(i){return e("div",{key:i.question.questionId},[e("ActivityInfo",{attrs:{activityInfo:t.$questionInfo2ActvityInfo(i)}}),t._v(" "),e("el-divider",{staticClass:"divider"})],1)}),0)]),t._v(" "),e("el-tab-pane",{attrs:{label:"关注",name:"1"}},[t.show1?e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load1,expression:"load1"}],style:t.tabStyle,attrs:{"infinite-scroll-disabled":"loading1"}},t._l(t.activityInfos,function(i,n){return e("div",{key:n},[e("ActivityInfo",{attrs:{activityInfo:i}}),t._v(" "),e("el-divider",{staticClass:"divider"})],1)}),0):t._e()]),t._v(" "),e("el-tab-pane",{attrs:{label:"话题",name:"2"}},[e("div",{ref:"topicQuestionInfos",style:t.tabStyle},[t._l(t.topicQuestionInfos,function(i){return e("div",{key:i.question.questionId},[e("ActivityInfo",{attrs:{activityInfo:t.$questionInfo2ActvityInfo(i)}}),t._v(" "),e("el-divider",{staticClass:"divider"})],1)}),t._v(" "),e("div",t._l(t.topics,function(t){return e("TopicTag",{key:t,attrs:{topic:t}})}),1),t._v(" "),e("el-button",{staticStyle:{"margin-top":"10px"},attrs:{icon:"el-icon-refresh-right"},on:{click:t.handleQueryTopicQuestionInfosByUserId}},[t._v("没看到满意的？换一批")])],2)])],1)],1)},staticRenderFns:[]};var u=e("VU/8")(r,l,!1,function(t){e("H3F0")},null,null);i.default=u.exports}});