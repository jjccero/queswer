webpackJsonp([6],{"4VUE":function(t,e){},Nqyv:function(t,e,n){"use strict";e.e=function(t){return Object(i.a)({url:"/saveSubscribeTopic",method:"get",params:t})},e.a=function(t){return Object(i.a)({url:"/deleteSubscribeTopic",method:"get",params:t})},e.b=function(t){return Object(i.a)({url:"/getTopicInfo",method:"get",params:t})},e.d=function(t){return Object(i.a)({url:"/queryTopicsByUserId",method:"get",params:t})},e.c=function(t){return Object(i.a)({url:"/queryTopicQuestionInfosByUserId",method:"get",params:t})};var i=n("vLgD")},ie7M:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Nqyv"),c={name:"Topic",components:{ActivityInfo:n("5KsW").a},data:function(){return{topicInfo:{subscribeCount:0,subscribed:!1,questionInfos:[]},pageSize:5,currentPage:1}},created:function(){this.init()},methods:{init:function(){var t=this;Object(i.b)({topic:this.topic}).then(function(e){t.topicInfo=e})},handleChangeSubscribe:function(){var t=this,e={topic:this.topic};this.topicInfo.subscribed?Object(i.a)(e).then(function(e){!0===e&&(t.topicInfo.subscribed=!1,--t.topicInfo.subscribeCount)}):Object(i.e)(e).then(function(e){!0===e&&(t.topicInfo.subscribed=!0,++t.topicInfo.subscribeCount)})}},computed:{topic:function(){return this.$route.params.topic},activityInfos:function(){var t=this,e=[];return this.topicInfo.questionInfos.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize).forEach(function(n){e.push(t.$questionInfo2ActvityInfo(n))}),e}},watch:{topic:function(t){this.init()}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(t._s(t.topic))]),t._v(" "),n("el-button",{on:{click:t.handleChangeSubscribe}},[t._v("\n    "+t._s(t.$getCountString(t.topicInfo.subscribeCount))+"\n    "+t._s(t.topicInfo.subscribed?"已订阅":"订阅")+"\n  ")]),t._v(" "),n("el-card",{staticStyle:{"margin-top":"10px"},attrs:{"body-style":{padding:"10px"}}},[t._l(t.activityInfos,function(e,i){return n("div",{key:i},[n("ActivityInfo",{attrs:{activityInfo:e}}),t._v(" "),n("el-divider",{staticClass:"divider"})],1)}),t._v(" "),n("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total,prev,pager,next,jumper",total:t.topicInfo.questionInfos.length},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],2)],1)},staticRenderFns:[]};var r=n("VU/8")(c,o,!1,function(t){n("4VUE")},"data-v-37879ce8",null);e.default=r.exports}});